!function(n){function t(c){if(e[c])return e[c].exports;var I=e[c]={exports:{},id:c,loaded:!1};return n[c].call(I.exports,I,I.exports,t),I.loaded=!0,I.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(module,exports,__webpack_require__){eval("var jumpjs = __webpack_require__(2);\n\nif (window) {\n  window.jumpjs = jumpjs;\n}\n\nmodule.exports = jumpjs;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbmRleC5qcz8yNjQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGp1bXBqcyA9IHJlcXVpcmUoJy4vbGliJyk7XG5cbmlmICh3aW5kb3cpIHtcbiAgd2luZG93Lmp1bXBqcyA9IGp1bXBqcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBqdW1wanM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(3);\nvar graphics = __webpack_require__(9);\nvar input = __webpack_require__(13);\nvar components = __webpack_require__(15);\nvar utils = __webpack_require__(6);\n\n/**\n * Setup\n */\nif (window) {\n  var lastTime = 0;\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = (callback, element) => {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(() => {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = id => {\n      clearTimeout(id);\n    };\n  }\n}\n\nif (document.addEventListener) {\n  document.addEventListener('DOMContentLoaded', function() {\n    var canvas = document.createElement('canvas');\n    canvas.setAttribute('id', 'game');\n    document.body.appendChild(canvas);\n    core.Game.setCanvas(canvas);\n    core.Game.setScene('main');\n    core.Game.run();\n  }, false);\n}\n\nmodule.exports = {\n  core,\n  graphics,\n  input,\n  components,\n  utils\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5kZXguanM/YmRkOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBcUQ7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG52YXIgZ3JhcGhpY3MgPSByZXF1aXJlKCcuL2dyYXBoaWNzJyk7XG52YXIgaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0Jyk7XG52YXIgY29tcG9uZW50cyA9IHJlcXVpcmUoJy4vY29tcG9uZW50cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG4vKipcbiAqIFNldHVwXG4gKi9cbmlmICh3aW5kb3cpIHtcbiAgdmFyIGxhc3RUaW1lID0gMDtcbiAgdmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgfVxuICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gKGNhbGxiYWNrLCBlbGVtZW50KSA9PiB7XG4gICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuICAgICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpO1xuICAgICAgfSwgdGltZVRvQ2FsbCk7XG4gICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICB9XG4gIGlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gaWQgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuICB9XG59XG5cbmlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaWQnLCAnZ2FtZScpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICBjb3JlLkdhbWUuc2V0Q2FudmFzKGNhbnZhcyk7XG4gICAgY29yZS5HYW1lLnNldFNjZW5lKCdtYWluJyk7XG4gICAgY29yZS5HYW1lLnJ1bigpO1xuICB9LCBmYWxzZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb3JlLFxuICBncmFwaGljcyxcbiAgaW5wdXQsXG4gIGNvbXBvbmVudHMsXG4gIHV0aWxzXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Scene = __webpack_require__(5);\n\nmodule.exports = {\n  Game,\n  Scene\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9pbmRleC5qcz8zZmFhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBHYW1lID0gcmVxdWlyZSgnLi9HYW1lJyk7XG52YXIgU2NlbmUgPSByZXF1aXJlKCcuL1NjZW5lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBHYW1lLFxuICBTY2VuZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvcmUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("var FPS = 60;\nvar FRAME_DURATION = 1000 / FPS;\nvar fps = 0;\nvar frames = 0;\nvar scenes = {};\nvar scene = null;\nvar previousTime = null;\nvar delta = null;\nvar canvas = null;\nvar context = null;\nvar elapsed = 0;\n\nvar Game = {\n  backgroundColor: 'white',\n  paused: false,\n  getCanvas() {\n    return canvas;\n  },\n  setCanvas(_canvas) {\n    canvas = _canvas;\n    context = canvas.getContext('2d');\n    var events = [\n      'click', 'mousemove', 'touchstart',\n      'touchend', 'touchmove', 'touchcancel'\n    ];\n    events.forEach(function(name) {\n      canvas.addEventListener(name, function(event) {\n        if (!scene) {\n          throw new Error('No scene');\n        }\n        event.preventDefault();\n        if (event.changedTouches) {\n          var touches = event.changedTouches;\n          for (var i = 0; i < touches.length; i++) {\n            var x = touches[i].pageX - scene.x;\n            var y = touches[i].pageY - scene.y;\n            scene.emit(name, x, y, event, i);\n          }\n        } else {\n          var x = event.pageX - scene.x;\n          var y = event.pageY - scene.y;\n          scene.emit(name, x, y, event);\n        }\n      }, false);\n    });\n    Game.resizeCanvas();\n  },\n  getContext() {\n    return context;\n  },\n  addScenes(_scenes) {\n    scenes = _scenes;\n  },\n  addScene(name, scene) {\n    scenes[name] = scene;\n  },\n  getScene() {\n    return scene;\n  },\n  setScene(name) {\n    scene = scenes[name];\n  },\n  getDelta() {\n    return delta;\n  },\n  getFPS() {\n    return Math.round(1 / elapsed);\n  },\n  isMobile: {\n    Android() {\n      return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry() {\n      return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS() {\n      return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera() {\n      return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows() {\n      return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\n    },\n    any() {\n      return (\n        Game.isMobile.Android() ||\n        Game.isMobile.BlackBerry() ||\n        Game.isMobile.iOS() ||\n        Game.isMobile.Opera() ||\n        Game.isMobile.Windows()\n      );\n    }\n  },\n  run() {\n    _gameLoop();\n  },\n  resizeCanvas() {\n    var canvas = document.getElementById('game');\n    if (canvas) {\n      canvas.width  = window.innerWidth;\n      canvas.height = window.innerHeight;\n      if (scene) {\n        scene.emit('resize', window.innerWidth, window.innerHeight, event);\n      }\n    }\n  }\n};\n\nmodule.exports = Game;\n\nif (window.addEventListener) {\n  window.addEventListener('resize', Game.resizeCanvas, false);\n}\n\nfunction _gameLoop() {\n\n  //Call the next iteration of the game loop\n  window.requestAnimationFrame(() => _gameLoop());\n\n  //calculate the delta time between this current timestamp (frame)\n  //and the previous\n  var now = window.performance.now();\n  elapsed = (now - (previousTime || now)) / 1000;\n  delta = now - previousTime;\n\n  //correct any huge unexpected gaps in the delta\n  if (delta > 1000) {\n    delta = FRAME_DURATION;\n  }\n\n  // Store the current transformation matrix\n  context.save();\n\n  // Use the identity matrix while clearing the canvas\n  context.setTransform(1, 0, 0, 1, 0, 0);\n  context.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Restore the transform\n  context.restore();\n\n  // Fill the background color\n  context.fillStyle = Game.backgroundColor;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n\n  //Update all of the game components\n  if (scene && scene.update) {\n    scene.update(context, scene, Game);\n  }\n\n  //set the current time to be used as the previous\n  //for the next frame\n  previousTime = now;\n\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9HYW1lLmpzP2Q0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvQkFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEZQUyA9IDYwO1xudmFyIEZSQU1FX0RVUkFUSU9OID0gMTAwMCAvIEZQUztcbnZhciBmcHMgPSAwO1xudmFyIGZyYW1lcyA9IDA7XG52YXIgc2NlbmVzID0ge307XG52YXIgc2NlbmUgPSBudWxsO1xudmFyIHByZXZpb3VzVGltZSA9IG51bGw7XG52YXIgZGVsdGEgPSBudWxsO1xudmFyIGNhbnZhcyA9IG51bGw7XG52YXIgY29udGV4dCA9IG51bGw7XG52YXIgZWxhcHNlZCA9IDA7XG5cbnZhciBHYW1lID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gIHBhdXNlZDogZmFsc2UsXG4gIGdldENhbnZhcygpIHtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9LFxuICBzZXRDYW52YXMoX2NhbnZhcykge1xuICAgIGNhbnZhcyA9IF9jYW52YXM7XG4gICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBldmVudHMgPSBbXG4gICAgICAnY2xpY2snLCAnbW91c2Vtb3ZlJywgJ3RvdWNoc3RhcnQnLFxuICAgICAgJ3RvdWNoZW5kJywgJ3RvdWNobW92ZScsICd0b3VjaGNhbmNlbCdcbiAgICBdO1xuICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICghc2NlbmUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNjZW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgdmFyIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gdG91Y2hlc1tpXS5wYWdlWCAtIHNjZW5lLng7XG4gICAgICAgICAgICB2YXIgeSA9IHRvdWNoZXNbaV0ucGFnZVkgLSBzY2VuZS55O1xuICAgICAgICAgICAgc2NlbmUuZW1pdChuYW1lLCB4LCB5LCBldmVudCwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB4ID0gZXZlbnQucGFnZVggLSBzY2VuZS54O1xuICAgICAgICAgIHZhciB5ID0gZXZlbnQucGFnZVkgLSBzY2VuZS55O1xuICAgICAgICAgIHNjZW5lLmVtaXQobmFtZSwgeCwgeSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfSk7XG4gICAgR2FtZS5yZXNpemVDYW52YXMoKTtcbiAgfSxcbiAgZ2V0Q29udGV4dCgpIHtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfSxcbiAgYWRkU2NlbmVzKF9zY2VuZXMpIHtcbiAgICBzY2VuZXMgPSBfc2NlbmVzO1xuICB9LFxuICBhZGRTY2VuZShuYW1lLCBzY2VuZSkge1xuICAgIHNjZW5lc1tuYW1lXSA9IHNjZW5lO1xuICB9LFxuICBnZXRTY2VuZSgpIHtcbiAgICByZXR1cm4gc2NlbmU7XG4gIH0sXG4gIHNldFNjZW5lKG5hbWUpIHtcbiAgICBzY2VuZSA9IHNjZW5lc1tuYW1lXTtcbiAgfSxcbiAgZ2V0RGVsdGEoKSB7XG4gICAgcmV0dXJuIGRlbHRhO1xuICB9LFxuICBnZXRGUFMoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMSAvIGVsYXBzZWQpO1xuICB9LFxuICBpc01vYmlsZToge1xuICAgIEFuZHJvaWQoKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKTtcbiAgICB9LFxuICAgIEJsYWNrQmVycnkoKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcbiAgICB9LFxuICAgIGlPUygpIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmV8aVBhZHxpUG9kL2kpO1xuICAgIH0sXG4gICAgT3BlcmEoKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT3BlcmEgTWluaS9pKTtcbiAgICB9LFxuICAgIFdpbmRvd3MoKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGUvaSkgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV1BEZXNrdG9wL2kpO1xuICAgIH0sXG4gICAgYW55KCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgR2FtZS5pc01vYmlsZS5BbmRyb2lkKCkgfHxcbiAgICAgICAgR2FtZS5pc01vYmlsZS5CbGFja0JlcnJ5KCkgfHxcbiAgICAgICAgR2FtZS5pc01vYmlsZS5pT1MoKSB8fFxuICAgICAgICBHYW1lLmlzTW9iaWxlLk9wZXJhKCkgfHxcbiAgICAgICAgR2FtZS5pc01vYmlsZS5XaW5kb3dzKClcbiAgICAgICk7XG4gICAgfVxuICB9LFxuICBydW4oKSB7XG4gICAgX2dhbWVMb29wKCk7XG4gIH0sXG4gIHJlc2l6ZUNhbnZhcygpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKTtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBjYW52YXMud2lkdGggID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgaWYgKHNjZW5lKSB7XG4gICAgICAgIHNjZW5lLmVtaXQoJ3Jlc2l6ZScsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gR2FtZTtcblxuaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBHYW1lLnJlc2l6ZUNhbnZhcywgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBfZ2FtZUxvb3AoKSB7XG5cbiAgLy9DYWxsIHRoZSBuZXh0IGl0ZXJhdGlvbiBvZiB0aGUgZ2FtZSBsb29wXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gX2dhbWVMb29wKCkpO1xuXG4gIC8vY2FsY3VsYXRlIHRoZSBkZWx0YSB0aW1lIGJldHdlZW4gdGhpcyBjdXJyZW50IHRpbWVzdGFtcCAoZnJhbWUpXG4gIC8vYW5kIHRoZSBwcmV2aW91c1xuICB2YXIgbm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICBlbGFwc2VkID0gKG5vdyAtIChwcmV2aW91c1RpbWUgfHwgbm93KSkgLyAxMDAwO1xuICBkZWx0YSA9IG5vdyAtIHByZXZpb3VzVGltZTtcblxuICAvL2NvcnJlY3QgYW55IGh1Z2UgdW5leHBlY3RlZCBnYXBzIGluIHRoZSBkZWx0YVxuICBpZiAoZGVsdGEgPiAxMDAwKSB7XG4gICAgZGVsdGEgPSBGUkFNRV9EVVJBVElPTjtcbiAgfVxuXG4gIC8vIFN0b3JlIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICBjb250ZXh0LnNhdmUoKTtcblxuICAvLyBVc2UgdGhlIGlkZW50aXR5IG1hdHJpeCB3aGlsZSBjbGVhcmluZyB0aGUgY2FudmFzXG4gIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gIC8vIFJlc3RvcmUgdGhlIHRyYW5zZm9ybVxuICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAvLyBGaWxsIHRoZSBiYWNrZ3JvdW5kIGNvbG9yXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gR2FtZS5iYWNrZ3JvdW5kQ29sb3I7XG4gIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAvL1VwZGF0ZSBhbGwgb2YgdGhlIGdhbWUgY29tcG9uZW50c1xuICBpZiAoc2NlbmUgJiYgc2NlbmUudXBkYXRlKSB7XG4gICAgc2NlbmUudXBkYXRlKGNvbnRleHQsIHNjZW5lLCBHYW1lKTtcbiAgfVxuXG4gIC8vc2V0IHRoZSBjdXJyZW50IHRpbWUgdG8gYmUgdXNlZCBhcyB0aGUgcHJldmlvdXNcbiAgLy9mb3IgdGhlIG5leHQgZnJhbWVcbiAgcHJldmlvdXNUaW1lID0gbm93O1xuXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb3JlL0dhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var utils = __webpack_require__(6);\nvar EventEmitter = __webpack_require__(8).EventEmitter;\n\nfunction Scene(x, y, w, h, backgroundColor) {\n  var self = this;\n  self.x = x || 0;\n  self.y = y || 0;\n  self.width = w || window.innerWidth;\n  self.height = h || window.innerHeight;\n  self.backgroundColor = backgroundColor || 'white';\n  self.locals = {};\n  self.components = [];\n  ['click', 'touchstart', 'touchend', 'touchmove', 'touchcancel'].forEach(function(name) {\n    self.on(name, function(x, y, event) {\n      for (var i = 0; i < self.components.length; i++) {\n        var component = self.components[i];\n        if (component.radius) {\n          if (utils.math.pointInCircle(x, y, component.x, component.y, component.radius)) {\n            component.emit(name, component);\n          }\n        } else {\n          if (utils.math.pointInBox(x, y, component.x, component.y, component.width, component.height)) {\n            component.emit(name, component);\n          }\n        }\n      }\n    }, false);\n  });\n}\n\nScene.prototype = Object.create(EventEmitter.prototype);\nScene.prototype.constructor = Scene;\n\nScene.prototype.reset = function() {\n  this.components = [];\n  if (this.onSetup) {\n    this.onSetup();\n  }\n}\n\nScene.prototype.addComponent = function(component, timeout) {\n  if (timeout) {\n    var self = this;\n    setTimeout(function() {\n      self.components.push(component);\n    }, timeout);\n  } else {\n    this.components.push(component);\n  }\n}\n\nScene.prototype.update = function(context, scene, game) {\n  context.fillStyle = this.backgroundColor;\n  context.fillRect(this.x, this.y, this.width, this.height);\n  for (var i = 0; i < this.components.length; i++) {\n    if (this.components[i] && this.components[i].update) {\n      this.components[i].update(context, scene, game);\n    }\n  }\n}\n\nScene.prototype.findComponentById = function(id) {\n  for (var i = 0; i < this.components.length; i++) {\n    if (id === this.components[i].getId()) {\n      return this.components[i];\n    }\n  }\n}\n\nScene.prototype.findComponentByType = function(type) {\n  var components = [];\n  for (var i = 0; i < this.components.length; i++) {\n    if (this.components[i] instanceof type) {\n      components.push(this.components[i]);\n    }\n  }\n  return components;\n}\nmodule.exports = Scene;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29yZS9TY2VuZS5qcz9hN2FmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0QkFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsNEJBQTRCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuZnVuY3Rpb24gU2NlbmUoeCwgeSwgdywgaCwgYmFja2dyb3VuZENvbG9yKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgc2VsZi54ID0geCB8fCAwO1xuICBzZWxmLnkgPSB5IHx8IDA7XG4gIHNlbGYud2lkdGggPSB3IHx8IHdpbmRvdy5pbm5lcldpZHRoO1xuICBzZWxmLmhlaWdodCA9IGggfHwgd2luZG93LmlubmVySGVpZ2h0O1xuICBzZWxmLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnO1xuICBzZWxmLmxvY2FscyA9IHt9O1xuICBzZWxmLmNvbXBvbmVudHMgPSBbXTtcbiAgWydjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ3RvdWNobW92ZScsICd0b3VjaGNhbmNlbCddLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIHNlbGYub24obmFtZSwgZnVuY3Rpb24oeCwgeSwgZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBzZWxmLmNvbXBvbmVudHNbaV07XG4gICAgICAgIGlmIChjb21wb25lbnQucmFkaXVzKSB7XG4gICAgICAgICAgaWYgKHV0aWxzLm1hdGgucG9pbnRJbkNpcmNsZSh4LCB5LCBjb21wb25lbnQueCwgY29tcG9uZW50LnksIGNvbXBvbmVudC5yYWRpdXMpKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuZW1pdChuYW1lLCBjb21wb25lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodXRpbHMubWF0aC5wb2ludEluQm94KHgsIHksIGNvbXBvbmVudC54LCBjb21wb25lbnQueSwgY29tcG9uZW50LndpZHRoLCBjb21wb25lbnQuaGVpZ2h0KSkge1xuICAgICAgICAgICAgY29tcG9uZW50LmVtaXQobmFtZSwgY29tcG9uZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG4gIH0pO1xufVxuXG5TY2VuZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuU2NlbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2NlbmU7XG5cblNjZW5lLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcbiAgaWYgKHRoaXMub25TZXR1cCkge1xuICAgIHRoaXMub25TZXR1cCgpO1xuICB9XG59XG5cblNjZW5lLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbihjb21wb25lbnQsIHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgfVxufVxuXG5TY2VuZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29udGV4dCwgc2NlbmUsIGdhbWUpIHtcbiAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgY29udGV4dC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudHNbaV0gJiYgdGhpcy5jb21wb25lbnRzW2ldLnVwZGF0ZSkge1xuICAgICAgdGhpcy5jb21wb25lbnRzW2ldLnVwZGF0ZShjb250ZXh0LCBzY2VuZSwgZ2FtZSk7XG4gICAgfVxuICB9XG59XG5cblNjZW5lLnByb3RvdHlwZS5maW5kQ29tcG9uZW50QnlJZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlkID09PSB0aGlzLmNvbXBvbmVudHNbaV0uZ2V0SWQoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50c1tpXTtcbiAgICB9XG4gIH1cbn1cblxuU2NlbmUucHJvdG90eXBlLmZpbmRDb21wb25lbnRCeVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBjb21wb25lbnRzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50c1tpXSBpbnN0YW5jZW9mIHR5cGUpIHtcbiAgICAgIGNvbXBvbmVudHMucHVzaCh0aGlzLmNvbXBvbmVudHNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29tcG9uZW50cztcbn1cbm1vZHVsZS5leHBvcnRzID0gU2NlbmU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb3JlL1NjZW5lLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var math = __webpack_require__(7);\n\nmodule.exports = {\n  math\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdXRpbHMvaW5kZXguanM/NDVhYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXRoID0gcmVxdWlyZSgnLi9tYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXRoXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvdXRpbHMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = {\n  pointInCircle(x, y, cx, cy, radius) {\n    var distancesquared = (x - cx) * (x - cx) + (y - cy) * (y - cy);\n    return distancesquared <= radius * radius;\n  },\n  pointInBox(x, y, cx, cy, cw, ch) {\n    return (y > cy && y < cy + ch && x > cx && x < cx + cw)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdXRpbHMvbWF0aC5qcz80NjQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgcG9pbnRJbkNpcmNsZSh4LCB5LCBjeCwgY3ksIHJhZGl1cykge1xuICAgIHZhciBkaXN0YW5jZXNxdWFyZWQgPSAoeCAtIGN4KSAqICh4IC0gY3gpICsgKHkgLSBjeSkgKiAoeSAtIGN5KTtcbiAgICByZXR1cm4gZGlzdGFuY2VzcXVhcmVkIDw9IHJhZGl1cyAqIHJhZGl1cztcbiAgfSxcbiAgcG9pbnRJbkJveCh4LCB5LCBjeCwgY3ksIGN3LCBjaCkge1xuICAgIHJldHVybiAoeSA+IGN5ICYmIHkgPCBjeSArIGNoICYmIHggPiBjeCAmJiB4IDwgY3ggKyBjdylcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvdXRpbHMvbWF0aC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vZXZlbnRzL2V2ZW50cy5qcz81YjAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNILG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvfi9ldmVudHMvZXZlbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("var SpriteSheet = __webpack_require__(10);\n\nmodule.exports = {\n  SpriteSheet\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZ3JhcGhpY3MvaW5kZXguanM/Zjg5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTcHJpdGVTaGVldCA9IHJlcXVpcmUoJy4vU3ByaXRlU2hlZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFNwcml0ZVNoZWV0XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvZ3JhcGhpY3MvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Sprite = __webpack_require__(11);\n\nfunction SpriteSheet(src, map) {\n  this.map = map;\n  this.img = new Image();\n  this.img.src = src;\n  this.sprites = {};\n  for (var i = 0; i < map.length; i++) {\n    var info = map[i];\n    this.sprites[info.name] = new Sprite(this.img, info.x, info.y, info.width, info.height);\n  };\n}\n\nmodule.exports = SpriteSheet;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZ3JhcGhpY3MvU3ByaXRlU2hlZXQuanM/ZjFjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTcHJpdGUgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL1Nwcml0ZScpO1xuXG5mdW5jdGlvbiBTcHJpdGVTaGVldChzcmMsIG1hcCkge1xuICB0aGlzLm1hcCA9IG1hcDtcbiAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbiAgdGhpcy5pbWcuc3JjID0gc3JjO1xuICB0aGlzLnNwcml0ZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaW5mbyA9IG1hcFtpXTtcbiAgICB0aGlzLnNwcml0ZXNbaW5mby5uYW1lXSA9IG5ldyBTcHJpdGUodGhpcy5pbWcsIGluZm8ueCwgaW5mby55LCBpbmZvLndpZHRoLCBpbmZvLmhlaWdodCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3ByaXRlU2hlZXQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9ncmFwaGljcy9TcHJpdGVTaGVldC5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(12);\n\nfunction Sprite(img, x, y, width, height) {\n  Component.call(this);\n  this.img = img;\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n  this.onUpdate = onUpdate\n}\n\nSprite.prototype = Object.create(Component.prototype);\nSprite.prototype.constructor = Sprite;\n\nSprite.prototype.setImg = function (img) {\n  this.img = img;\n}\n\nSprite.prototype.update = function (ctx) {\n  if (!this.img) {\n    return;\n  }\n  var transform = this.transform;\n  ctx.drawImage(this.img,\n    this.x,\n    this.y,\n    this.width,\n    this.height,\n    transform.x,\n    transform.y,\n    transform.width,\n    transform.height\n  );\n}\n\nmodule.exports = Sprite;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9TcHJpdGUuanM/N2Q2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9Db21wb25lbnQnKTtcblxuZnVuY3Rpb24gU3ByaXRlKGltZywgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICBDb21wb25lbnQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbWcgPSBpbWc7XG4gIHRoaXMueCA9IHg7XG4gIHRoaXMueSA9IHk7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZVxufVxuXG5TcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKTtcblNwcml0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTcHJpdGU7XG5cblNwcml0ZS5wcm90b3R5cGUuc2V0SW1nID0gZnVuY3Rpb24gKGltZykge1xuICB0aGlzLmltZyA9IGltZztcbn1cblxuU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoY3R4KSB7XG4gIGlmICghdGhpcy5pbWcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtO1xuICBjdHguZHJhd0ltYWdlKHRoaXMuaW1nLFxuICAgIHRoaXMueCxcbiAgICB0aGlzLnksXG4gICAgdGhpcy53aWR0aCxcbiAgICB0aGlzLmhlaWdodCxcbiAgICB0cmFuc2Zvcm0ueCxcbiAgICB0cmFuc2Zvcm0ueSxcbiAgICB0cmFuc2Zvcm0ud2lkdGgsXG4gICAgdHJhbnNmb3JtLmhlaWdodFxuICApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNwcml0ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvbXBvbmVudHMvU3ByaXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var EventEmitter = __webpack_require__(8).EventEmitter;\n\nfunction Component(x, y, width, height) {\n  EventEmitter.call(this);\n  this.id = null;\n  this.components = {};\n  this.visible = true;\n  this.x = x;\n  this.y = y;\n  this.width = width;\n  this.height = height;\n  this.offsetX = 0;\n  this.offsetY = 0;\n}\n\nComponent.prototype = Object.create(EventEmitter.prototype);\nComponent.prototype.constructor = Component;\n\nComponent.prototype.addComponent = function(name, component) {\n  this.components[name] = component;\n  if (!this[name]) {\n    Object.defineProperty(this, name, {\n      get: function() {\n        return this.components[name];\n      },\n      set: function(value) {\n        this.components[name] = value;\n      }\n    });\n  }\n};\n\nComponent.prototype.removeComponent = function(name) {\n  this.components[name] = null;\n  delete this.components[name];\n};\n\nComponent.prototype.findComponentByType = function(type) {\n  var components = [];\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component instanceof type) {\n      components.push(this.components[i]);\n    }\n  }\n  return components;\n};\n\nComponent.prototype.hasComponent = function(type) {\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component instanceof type) {\n      return true;\n    }\n  }\n};\n\nComponent.prototype.update = function(context, scene, game) {\n  if (!this.visible) {\n    return;\n  }\n  var keys = Object.keys(this.components);\n  for (var i = 0; i < keys.length; i++) {\n    var component = this.components[keys[i]];\n    if (component && component.update) {\n      component.update(context, scene, game);\n    }\n  }\n  if (this.render) {\n    this.render(context, scene, game);\n  }\n};\n\nComponent.prototype.render = function(context, scene, game) {\n};\n\nComponent.prototype.setId = function(id) {\n  this.id = id;\n};\n\nComponent.prototype.getId = function() {\n  return this.id;\n};\n\nmodule.exports = Component;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9Db21wb25lbnQuanM/MGU5ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbmZ1bmN0aW9uIENvbXBvbmVudCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB0aGlzLmlkID0gbnVsbDtcbiAgdGhpcy5jb21wb25lbnRzID0ge307XG4gIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gIHRoaXMueCA9IHg7XG4gIHRoaXMueSA9IHk7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIHRoaXMub2Zmc2V0WCA9IDA7XG4gIHRoaXMub2Zmc2V0WSA9IDA7XG59XG5cbkNvbXBvbmVudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ29tcG9uZW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbXBvbmVudDtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbihuYW1lLCBjb21wb25lbnQpIHtcbiAgdGhpcy5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xuICBpZiAoIXRoaXNbbmFtZV0pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50c1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5Db21wb25lbnQucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdGhpcy5jb21wb25lbnRzW25hbWVdID0gbnVsbDtcbiAgZGVsZXRlIHRoaXMuY29tcG9uZW50c1tuYW1lXTtcbn07XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuZmluZENvbXBvbmVudEJ5VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGNvbXBvbmVudHMgPSBbXTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW2tleXNbaV1dO1xuICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiB0eXBlKSB7XG4gICAgICBjb21wb25lbnRzLnB1c2godGhpcy5jb21wb25lbnRzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudHM7XG59O1xuXG5Db21wb25lbnQucHJvdG90eXBlLmhhc0NvbXBvbmVudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW2tleXNbaV1dO1xuICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiB0eXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbkNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29udGV4dCwgc2NlbmUsIGdhbWUpIHtcbiAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW2tleXNbaV1dO1xuICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LnVwZGF0ZSkge1xuICAgICAgY29tcG9uZW50LnVwZGF0ZShjb250ZXh0LCBzY2VuZSwgZ2FtZSk7XG4gICAgfVxuICB9XG4gIGlmICh0aGlzLnJlbmRlcikge1xuICAgIHRoaXMucmVuZGVyKGNvbnRleHQsIHNjZW5lLCBnYW1lKTtcbiAgfVxufTtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihjb250ZXh0LCBzY2VuZSwgZ2FtZSkge1xufTtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5zZXRJZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHRoaXMuaWQgPSBpZDtcbn07XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvbXBvbmVudHMvQ29tcG9uZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var Keyboard = __webpack_require__(14);\n\nmodule.exports = {\n  Keyboard\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5wdXQvaW5kZXguanM/OTEyOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgS2V5Ym9hcmQgPSByZXF1aXJlKCcuL0tleWJvYXJkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBLZXlib2FyZFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2lucHV0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('var keys = [];\n\nmodule.exports = {\n  bindKey(k){\n    return new Key(k);\n\t},\n  unbindKey(k) {\n    keys[k] = null;\n  }\n};\n\nfunction Key(k){\n\n\tif (k.length > 1) {\n\t\tvar c = 0;\n\t\tswitch (k.toUpperCase()) {\n      case "ENTER":    c=13; break;\n\t\t\tcase "LEFT":   \t c=37; break;\n\t\t\tcase "RIGHT": \t c=39; break;\n\t\t\tcase "UP":    \t c=38; break;\n\t\t\tcase "DOWN":  \t c=40; break;\n\t\t\tcase "SPACEBAR": c=32; break;\n\t\t}\n\t\tthis.code = c;\n\t} else {\n\t\tthis.code = k.charCodeAt(0);\n\t}\n\n\tthis.pressed = false;\n\tthis.event = null;\n\n\tkeys[this.code] = this;\n\n\treturn this;\n}\n\ndocument.addEventListener(\'keyup\', function () {\n\tvar keyCode = window.event.keyCode;\n\tif (keys[keyCode]) {\n\t\tkeys[keyCode].pressed = false;\n\t}\n});\ndocument.addEventListener(\'keydown\', function () {\n\tvar keyCode = window.event.keyCode;\n\tif (keys[keyCode]) {\n\t\tif (!keys[keyCode].pressed && keys[keyCode].event) {\n\t\t\tkeys[keyCode].event();\n\t\t}\n\t\tkeys[keyCode].pressed = true;\n\t}\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5wdXQvS2V5Ym9hcmQuanM/YjBlNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGtleXMgPSBbXTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGJpbmRLZXkoayl7XG4gICAgcmV0dXJuIG5ldyBLZXkoayk7XG5cdH0sXG4gIHVuYmluZEtleShrKSB7XG4gICAga2V5c1trXSA9IG51bGw7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIEtleShrKXtcblxuXHRpZiAoay5sZW5ndGggPiAxKSB7XG5cdFx0dmFyIGMgPSAwO1xuXHRcdHN3aXRjaCAoay50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiRU5URVJcIjogICAgYz0xMzsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiTEVGVFwiOiAgIFx0IGM9Mzc7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlJJR0hUXCI6IFx0IGM9Mzk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlVQXCI6ICAgIFx0IGM9Mzg7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIkRPV05cIjogIFx0IGM9NDA7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIlNQQUNFQkFSXCI6IGM9MzI7IGJyZWFrO1xuXHRcdH1cblx0XHR0aGlzLmNvZGUgPSBjO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuY29kZSA9IGsuY2hhckNvZGVBdCgwKTtcblx0fVxuXG5cdHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuXHR0aGlzLmV2ZW50ID0gbnVsbDtcblxuXHRrZXlzW3RoaXMuY29kZV0gPSB0aGlzO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcblx0dmFyIGtleUNvZGUgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTtcblx0aWYgKGtleXNba2V5Q29kZV0pIHtcblx0XHRrZXlzW2tleUNvZGVdLnByZXNzZWQgPSBmYWxzZTtcblx0fVxufSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKCkge1xuXHR2YXIga2V5Q29kZSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlO1xuXHRpZiAoa2V5c1trZXlDb2RlXSkge1xuXHRcdGlmICgha2V5c1trZXlDb2RlXS5wcmVzc2VkICYmIGtleXNba2V5Q29kZV0uZXZlbnQpIHtcblx0XHRcdGtleXNba2V5Q29kZV0uZXZlbnQoKTtcblx0XHR9XG5cdFx0a2V5c1trZXlDb2RlXS5wcmVzc2VkID0gdHJ1ZTtcblx0fVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9pbnB1dC9LZXlib2FyZC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(12);\nvar BoxCollider2D = __webpack_require__(16);\nvar Rect = __webpack_require__(17);\nvar Text = __webpack_require__(18);\nvar Circle = __webpack_require__(19);\nvar Button = __webpack_require__(20);\nvar Sprite = __webpack_require__(11);\n\nmodule.exports = {\n  Component,\n  BoxCollider2D,\n  Rect,\n  Text,\n  Circle,\n  Button,\n  Sprite\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9pbmRleC5qcz9kZjQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL0NvbXBvbmVudCcpO1xudmFyIEJveENvbGxpZGVyMkQgPSByZXF1aXJlKCcuL0JveENvbGxpZGVyMkQnKTtcbnZhciBSZWN0ID0gcmVxdWlyZSgnLi9SZWN0Jyk7XG52YXIgVGV4dCA9IHJlcXVpcmUoJy4vVGV4dCcpO1xudmFyIENpcmNsZSA9IHJlcXVpcmUoJy4vQ2lyY2xlJyk7XG52YXIgQnV0dG9uID0gcmVxdWlyZSgnLi9CdXR0b24nKTtcbnZhciBTcHJpdGUgPSByZXF1aXJlKCcuL1Nwcml0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ29tcG9uZW50LFxuICBCb3hDb2xsaWRlcjJELFxuICBSZWN0LFxuICBUZXh0LFxuICBDaXJjbGUsXG4gIEJ1dHRvbixcbiAgU3ByaXRlXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29tcG9uZW50cy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(12);\n\nfunction BoxCollider2D(x, y, w, h) {\n  Component.call(this);\n  this.x = x || 0;\n  this.y = y || 0;\n  this.width = w || 0;\n  this.height = h || 0;\n  this.onUpdate = onUpdate;\n}\n\nBoxCollider2D.prototype = Object.create(Component.prototype);\nBoxCollider2D.prototype.constructor = BoxCollider2D;\n\nmodule.exports = BoxCollider2D;\n\nvar onUpdate = function (entity1) {\n  var transform1 = entity1.components.transform;\n  var x1 = transform1.x + this.x;\n  var y1 = transform1.y + this.y;\n  var w1 = transform1.width + this.width;\n  var h1 = transform1.height + this.height;\n  var colliders = Game.getCurrentScene().findEntityByComponentType(BoxCollider2D);\n  for (var i = 0; i < colliders.length; i++) {\n    var entity2 = colliders[i];\n    if (entity1 === entity2) {\n      continue;\n    }\n    var transform2 = entity2.components.transform;\n    var boxCollider = entity2.components.boxcollider;\n    var x2 = transform2.x + boxCollider.x;\n    var y2 = transform2.y + boxCollider.y;\n    var w2 = transform2.width + boxCollider.width;\n    var h2 = transform2.height + boxCollider.height;\n    if((y1 +  h1 >= y2 &&\n        y1 <= y2 +  h2) &&\n  \t   (x1 +  w1 >= x2 &&\n        x1 <= x2 +  w2)){\n  \t\tentity1.emit('collision2D', entity2);\n      entity2.emit('collision2D', entity1);\n  \t}\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9Cb3hDb2xsaWRlcjJELmpzP2JhNWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL0NvbXBvbmVudCcpO1xuXG5mdW5jdGlvbiBCb3hDb2xsaWRlcjJEKHgsIHksIHcsIGgpIHtcbiAgQ29tcG9uZW50LmNhbGwodGhpcyk7XG4gIHRoaXMueCA9IHggfHwgMDtcbiAgdGhpcy55ID0geSB8fCAwO1xuICB0aGlzLndpZHRoID0gdyB8fCAwO1xuICB0aGlzLmhlaWdodCA9IGggfHwgMDtcbiAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlO1xufVxuXG5Cb3hDb2xsaWRlcjJELnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSk7XG5Cb3hDb2xsaWRlcjJELnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJveENvbGxpZGVyMkQ7XG5cbm1vZHVsZS5leHBvcnRzID0gQm94Q29sbGlkZXIyRDtcblxudmFyIG9uVXBkYXRlID0gZnVuY3Rpb24gKGVudGl0eTEpIHtcbiAgdmFyIHRyYW5zZm9ybTEgPSBlbnRpdHkxLmNvbXBvbmVudHMudHJhbnNmb3JtO1xuICB2YXIgeDEgPSB0cmFuc2Zvcm0xLnggKyB0aGlzLng7XG4gIHZhciB5MSA9IHRyYW5zZm9ybTEueSArIHRoaXMueTtcbiAgdmFyIHcxID0gdHJhbnNmb3JtMS53aWR0aCArIHRoaXMud2lkdGg7XG4gIHZhciBoMSA9IHRyYW5zZm9ybTEuaGVpZ2h0ICsgdGhpcy5oZWlnaHQ7XG4gIHZhciBjb2xsaWRlcnMgPSBHYW1lLmdldEN1cnJlbnRTY2VuZSgpLmZpbmRFbnRpdHlCeUNvbXBvbmVudFR5cGUoQm94Q29sbGlkZXIyRCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVudGl0eTIgPSBjb2xsaWRlcnNbaV07XG4gICAgaWYgKGVudGl0eTEgPT09IGVudGl0eTIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgdHJhbnNmb3JtMiA9IGVudGl0eTIuY29tcG9uZW50cy50cmFuc2Zvcm07XG4gICAgdmFyIGJveENvbGxpZGVyID0gZW50aXR5Mi5jb21wb25lbnRzLmJveGNvbGxpZGVyO1xuICAgIHZhciB4MiA9IHRyYW5zZm9ybTIueCArIGJveENvbGxpZGVyLng7XG4gICAgdmFyIHkyID0gdHJhbnNmb3JtMi55ICsgYm94Q29sbGlkZXIueTtcbiAgICB2YXIgdzIgPSB0cmFuc2Zvcm0yLndpZHRoICsgYm94Q29sbGlkZXIud2lkdGg7XG4gICAgdmFyIGgyID0gdHJhbnNmb3JtMi5oZWlnaHQgKyBib3hDb2xsaWRlci5oZWlnaHQ7XG4gICAgaWYoKHkxICsgIGgxID49IHkyICYmXG4gICAgICAgIHkxIDw9IHkyICsgIGgyKSAmJlxuICBcdCAgICh4MSArICB3MSA+PSB4MiAmJlxuICAgICAgICB4MSA8PSB4MiArICB3Mikpe1xuICBcdFx0ZW50aXR5MS5lbWl0KCdjb2xsaXNpb24yRCcsIGVudGl0eTIpO1xuICAgICAgZW50aXR5Mi5lbWl0KCdjb2xsaXNpb24yRCcsIGVudGl0eTEpO1xuICBcdH1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29tcG9uZW50cy9Cb3hDb2xsaWRlcjJELmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(12);\n\nfunction Rect(x, y, w, h, color, fill) {\n  Component.call(this, x, y, w, h);\n  this.color = color || 'black';\n  this.fill = fill || true;\n}\n\nRect.prototype = Object.create(Component.prototype);\nRect.prototype.constructor = Rect;\n\nRect.prototype.render = function(ctx, scene) {\n  if (this.fill) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(scene.x + this.x, scene.y + this.y, this.width, this.height);\n  } else {\n    ctx.strokeRect(scene.x + this.x, scene.y + this.y, this.width, this.height);\n  }\n}\n\nmodule.exports = Rect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9SZWN0LmpzPzIwNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0NvbXBvbmVudCcpO1xuXG5mdW5jdGlvbiBSZWN0KHgsIHksIHcsIGgsIGNvbG9yLCBmaWxsKSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMsIHgsIHksIHcsIGgpO1xuICB0aGlzLmNvbG9yID0gY29sb3IgfHwgJ2JsYWNrJztcbiAgdGhpcy5maWxsID0gZmlsbCB8fCB0cnVlO1xufVxuXG5SZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSk7XG5SZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlY3Q7XG5cblJlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGN0eCwgc2NlbmUpIHtcbiAgaWYgKHRoaXMuZmlsbCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGN0eC5maWxsUmVjdChzY2VuZS54ICsgdGhpcy54LCBzY2VuZS55ICsgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH0gZWxzZSB7XG4gICAgY3R4LnN0cm9rZVJlY3Qoc2NlbmUueCArIHRoaXMueCwgc2NlbmUueSArIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2NvbXBvbmVudHMvUmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var Game = __webpack_require__(4);\nvar Component = __webpack_require__(12);\nvar defaultFont = '14px Georgia';\n\nfunction Text(text, fillStyle) {\n  Component.call(this);\n  this.text = text;\n  this.font = null;\n  this.fillStyle = fillStyle || '#000000';\n  this.textAlign = 'center';\n  this.onUpdate = onUpdate;\n}\n\nText.prototype = Object.create(Component.prototype);\nText.prototype.constructor = Text;\n\nText.prototype.setText = function(text) {\n  this.text = text;\n};\n\nvar onUpdate = function (_entity) {\n  var ctx = Game.getContext();\n  if (this.font) {\n    ctx.font = this.font;\n  }\n  ctx.fillStyle = this.fillStyle;\n  ctx.textAlign = this.textAlign;\n  ctx.textBaseline = 'middle';\n  ctx.fillText(\n    this.text,\n    _entity.transform.x + Math.floor(_entity.transform.width / 2),\n    _entity.transform.y + Math.floor(_entity.transform.height / 2)\n  );\n  ctx.font = defaultFont;\n};\n\nmodule.exports = Text;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9UZXh0LmpzPzUxNzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEdhbWUgPSByZXF1aXJlKCcuLi9jb3JlL0dhbWUnKTtcbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0NvbXBvbmVudCcpO1xudmFyIGRlZmF1bHRGb250ID0gJzE0cHggR2VvcmdpYSc7XG5cbmZ1bmN0aW9uIFRleHQodGV4dCwgZmlsbFN0eWxlKSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMpO1xuICB0aGlzLnRleHQgPSB0ZXh0O1xuICB0aGlzLmZvbnQgPSBudWxsO1xuICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZSB8fCAnIzAwMDAwMCc7XG4gIHRoaXMudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIHRoaXMub25VcGRhdGUgPSBvblVwZGF0ZTtcbn1cblxuVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpO1xuVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0O1xuXG5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aGlzLnRleHQgPSB0ZXh0O1xufTtcblxudmFyIG9uVXBkYXRlID0gZnVuY3Rpb24gKF9lbnRpdHkpIHtcbiAgdmFyIGN0eCA9IEdhbWUuZ2V0Q29udGV4dCgpO1xuICBpZiAodGhpcy5mb250KSB7XG4gICAgY3R4LmZvbnQgPSB0aGlzLmZvbnQ7XG4gIH1cbiAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICBjdHgudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XG4gIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgY3R4LmZpbGxUZXh0KFxuICAgIHRoaXMudGV4dCxcbiAgICBfZW50aXR5LnRyYW5zZm9ybS54ICsgTWF0aC5mbG9vcihfZW50aXR5LnRyYW5zZm9ybS53aWR0aCAvIDIpLFxuICAgIF9lbnRpdHkudHJhbnNmb3JtLnkgKyBNYXRoLmZsb29yKF9lbnRpdHkudHJhbnNmb3JtLmhlaWdodCAvIDIpXG4gICk7XG4gIGN0eC5mb250ID0gZGVmYXVsdEZvbnQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb21wb25lbnRzL1RleHQuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(12);\n\nfunction Circle(x, y, w, h, radius, color, fill) {\n  Component.call(this, x, y, w, h);\n  this.color = color || 'black';\n  this.fill = fill || false;\n  this.radius = radius;\n}\n\nCircle.prototype = Object.create(Component.prototype);\nCircle.prototype.constructor = Circle;\n\nCircle.prototype.render = function(ctx, scene) {\n  ctx.beginPath();\n  ctx.arc(scene.x + this.x, scene.y + this.y, this.radius, 0, 2 * Math.PI, false);\n  if (this.fill) {\n    ctx.fillStyle = this.color;\n    ctx.fill();\n  }\n  ctx.stroke();\n}\n\nmodule.exports = Circle;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9DaXJjbGUuanM/NTMyZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9Db21wb25lbnQnKTtcblxuZnVuY3Rpb24gQ2lyY2xlKHgsIHksIHcsIGgsIHJhZGl1cywgY29sb3IsIGZpbGwpIHtcbiAgQ29tcG9uZW50LmNhbGwodGhpcywgeCwgeSwgdywgaCk7XG4gIHRoaXMuY29sb3IgPSBjb2xvciB8fCAnYmxhY2snO1xuICB0aGlzLmZpbGwgPSBmaWxsIHx8IGZhbHNlO1xuICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbn1cblxuQ2lyY2xlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSk7XG5DaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2lyY2xlO1xuXG5DaXJjbGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGN0eCwgc2NlbmUpIHtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHNjZW5lLnggKyB0aGlzLngsIHNjZW5lLnkgKyB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICBpZiAodGhpcy5maWxsKSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuICBjdHguc3Ryb2tlKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2lyY2xlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvY29tcG9uZW50cy9DaXJjbGUuanNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(12);\nvar Text = __webpack_require__(18);\nvar Rect = __webpack_require__(17);\n\nfunction Button(x, y, w, h) {\n  Entity.call(this, x, y, w, h);\n  this.addComponent('rect', new Rect());\n  this.addComponent('text', new Text());\n}\n\nButton.prototype = Object.create(Component.prototype);\nButton.prototype.constructor = Button;\n\nmodule.exports = Button;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY29tcG9uZW50cy9CdXR0b24uanM/ZjY3MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4vQ29tcG9uZW50Jyk7XG52YXIgVGV4dCA9IHJlcXVpcmUoJy4vVGV4dCcpO1xudmFyIFJlY3QgPSByZXF1aXJlKCcuL1JlY3QnKTtcblxuZnVuY3Rpb24gQnV0dG9uKHgsIHksIHcsIGgpIHtcbiAgRW50aXR5LmNhbGwodGhpcywgeCwgeSwgdywgaCk7XG4gIHRoaXMuYWRkQ29tcG9uZW50KCdyZWN0JywgbmV3IFJlY3QoKSk7XG4gIHRoaXMuYWRkQ29tcG9uZW50KCd0ZXh0JywgbmV3IFRleHQoKSk7XG59XG5cbkJ1dHRvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpO1xuQnV0dG9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1dHRvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBCdXR0b247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9jb21wb25lbnRzL0J1dHRvbi5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")}]);